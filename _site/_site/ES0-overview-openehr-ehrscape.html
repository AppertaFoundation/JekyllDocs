<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="This section provides an overview of the basic concepts of openEHR and introduces the Operon Ehrscape service">
<meta name="keywords" content=" ">
<title>Overview of openEHR and Ehrscape | Open Health Platform</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://idratherbewriting.comfeed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> Operon Cloud</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="news">News</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
			<li><a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:info@operon.systems?subject=Jekyll documentation theme feedback&body=I have some feedback about the Overview of openEHR and Ehrscape page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a><li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Overview of openEHR and Ehrscape">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">

          












<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">User Guide </li>
    
    
    
        
    
    <li>
        <a href="#">Overview</a>
        <ul>
            
            
            
            <li><a href="index.html">Get started</a></li>
            
            
            
            
            
            
            <li><a href="BASIC1-what-can-i-do.html">Introduction</a></li>
            
            
            
            
            
            
            <li><a href="BASIC3-list-of-services.html">Available Services</a></li>
            
            
            
            
            
            
            <li><a href="under-construction.html">About Operon</a></li>
            
            
            
            
            
            
            <li><a href="support-under-construction.html">Support</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Self Service Portal</a>
        <ul>
            
            
            
            <li><a href="self-service-under-construction.html">Quick reference</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">openEHR Tools</a>
        <ul>
            
            
            
            <li><a href="openEHR0-introduction-and-setup.html">Introduction and Setup</a></li>
            
            
            
            
            
            
            <li><a href="openEHR1-archetype-editor.html">Archetype Editor</a></li>
            
            
            
            
            
            
            <li><a href="openEHR2-template-designer.html">Template Designer</a></li>
            
            
            
            
            
            
            <li><a href="openEHR3-resources.html">Resources</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">openEHR and Ehrscape</a>
        <ul>
            
            
            
            <li class="active"><a href="ES0-overview-openehr-ehrscape.html">Introduction to openEHR and Ehrscape</a></li>
            
            
            
            
            
            
            <li><a href="ES1-archetypes-templates.html">openEHR archetypes and templates</a></li>
            
            
            
            
            
            
            <li><a href="ES2-reference-model.html">openEHR Reference Model</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Using Postman</a>
        <ul>
            
            
            
            <li><a href="PM1-postman-ehrscape-getting-ready.html">Getting ready for Postman Ehrscape</a></li>
            
            
            
            
            
            
            <li><a href="PM2-navigate-postman.html">Navigating Postman</a></li>
            
            
            
            
            
            
            <li><a href="PM3-using-postman.html">Using Postman with Ehrscape</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Clinical Content</a>
        <ul>
            
            
            
            <li><a href="CKM-under-construction.html">Clinical Knowledge Manager (CKM)</a></li>
            
            
            
            
            
            
            <li><a href="github-under-construction.html">GitHub</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">openEHR Clinical Data Repository</a>
        <ul>
            
            
            
            <li><a href="CDR-QR-under-construction.html">Quick reference</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Termlex</a>
        <ul>
            
            
            
            <li><a href="termlex-intro-under-construction.html">Introduction</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Document Sharing (XDS)</a>
        <ul>
            
            
            
            <li><a href="docshare-intro-under-construction.html">Introduction</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Master Patient Index (MPI)</a>
        <ul>
            
            
            
            <li><a href="MPI-intro-under-construction.html">Introduction</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Health Provider Registry</a>
        <ul>
            
            
            
            <li><a href="HPR-intro-under-construction.html">Introduction</a></li>
            
            
            
            
        </ul>
        
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>
</div>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

    <!-- Content Column -->
    <div class="col-md-9">
        <div class="post-header">
   <h1 class="post-title-main">Overview of openEHR and Ehrscape</h1>
</div>



<div class="post-content">

   
    <div class="summary">This section provides an overview of the basic concepts of openEHR and introduces the Operon Ehrscape service</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

  <h2 id="introduction">Introduction</h2>
<p>openEHR is a open specification for the information model of an electronic health record, published and maintained by the <a href="http://openehr.org">openEHR Foundation</a>.</p>

<p>The full openEHR specification is complex and beyond the scope of this simple overview. In summary, an application developer interacts with an an openEHR system and a standardised information model via a simple set of ‘service’ APIs.</p>

<p>openEHR does not itself create and publish EHR solutions or applications, rather it provides a specification for a key part of the technology stack on which other developers base their systems. The value of this approach is in reducing the effort to meet the needs of continually changing clinical requirements while increasing the likelihood of interoperability.</p>

<p>The information model and querying/persistence are defined separately via the use of shareable (normally open-sourced) archetypes and templates, There is no direct interaction with the persistence layer, instead all of the interactions with an openEHR system, including querying happens via the information model. In essence this is not dissimilar to the kind of abstraction provided by Django or Ruby Active Objects, but is designed to work with the health domain, is much more extensible, and is designed to work in a completely language and technology-neutral manner.</p>

<p>openEHR systems can be built on any programming language, OS platform and with any persistence solution - examples of SQL Server, Oracle, PostgreSQL, mongoDB and MumpsDB solutions exist. It is the responsibility of the back-end developer to map their chosen persistence solution to the openEHR information model and querying system.</p>

<p>Ehrscape is an API wrapper for an implementation of the <a href="openehr.org">openEHR</a> specification.</p>

<p>The overall structure of an openEHR clinical system is …</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Physical CDR
 Virtual CDR (Ehrscape Domain)
  EHR
   (FOLDER)
    COMPOSITION
     (SECTION)
      ENTRY
       (CLUSTER)
        ELEMENT
         name
          value
</code></pre>
</div>
<p> </p>

<h3 id="cdr---care-data-repository">CDR - Care Data Repository</h3>
<p>All of the records within a single namespaced patient data repository. In the Ehrscape environment, a single physical repository is represented as a number of independent virtual ‘domains’ each of which can be regarded as a separate CDR.</p>

<h3 id="ehr---electronic-health-record">EHR - Electronic Health Record</h3>
<p>The top-level container of all clinical records for a single patient.</p>

<h3 id="folder-optional">FOLDER (optional)</h3>
<p>A high-level grouping of Compositions. Not implemented in Ehrscape, and not in common use generally</p>

<h3 id="composition">COMPOSITION</h3>
<p>A document-level container for all clinical records. This equates to an Encounter, a Lab Report, a Discharge summary, a set of Nursing Observations. All openEHR data is stored within the context of a composition and always includes clinical/medico-legal context such as patient, clinical author details, encounter times etc.</p>

<p>The Composition is the container for structured/ coded data with granular clinical statements such as procedure, blood pressure, allergy expressed as an ENTRY, within which the leaf data is contained in ELEMENTS e.g Systolic, Diastolic, Cuff size.</p>

<p>Compositions are versioned and fully-audit trailed, so that previous versions can always be retrieved.</p>

<p>Two forms of persistence/versioning strategy can be employed</p>

<p>1) <strong>‘Event document’ strategy</strong></p>

<p>Most compositions will be saved as ‘events’. Each instance of the event creates an entirely new composition with a new unique identifier. This equates to a POST in Restful terms. Examples would be a GP encounter, Nursing observation or Discharge report. Updated versions of these kinds of documents would only be created if an error or inaccuracy needed to be corrected.</p>

<p>2) <strong>‘Curated document’ strategy</strong></p>

<p>A less common, but important versioning strategy involves ‘curated documents’ where it is important to hold a single instance of a named document, but which requires to be continually updated as a ‘source-of-truth’. Examples might be a Problem summary, a list of known allergies, or an End-of-Life Care Plan. The common factor with these type of documents is that there should only ever be a single instance which reflects the current known facts or understanding. Of course previous versions must remain accessible for medico-legal purposes.</p>

<p><strong>Versioning</strong>
openEHR systems handle versioning automatically. Any time a new version of an existing document is committed to the system, its unique compositionId identifier ‘version suffix’ is updated e.g</p>

<div class="highlighter-rouge"><pre class="highlight"><code>798e27b1-f2e8-48c3-8ced-42d4d27d1db3::c4h.hopd.com::1”
 -&gt;
798e27b1-f2e8-48c3-8ced-42d4d27d1db3::c4h.hopd.com::2”
</code></pre>
</div>
<p>In normal operation only the most recent version of the composition is returned by querying or composition retrieval.</p>

<h3 id="section-optional">SECTION (optional)</h3>
<p>Sections are optional structures which are used to break up complex openEHR Compositions, gropuing the Entries into high-level headings e.g. in a Transfer of Care document, Sections might be represented as Allergies, Problems, Procedures, Lab tests etc. Sections are convenient for human consumption and navigation but should not be used to infer meaning.</p>

<h3 id="entry">ENTRY</h3>
<p>in openEHR, all of key clinical content is carried within one of the 5 ENTRY sub-classes …</p>

<p>(<strong>OBSERVATION, EVALUATION, INSTRUCTION, ACTION and ADMIN_ENTRY</strong>).</p>

<p>The ENTRY is the container for structured/ coded data via granular ‘clinical statements’ such as Procedure, Blood pressure, Allergy within which the leaf data is contained in ELEMENTS e.g Systolic, Diastolic, Cuff size.</p>

<h3 id="cluster-optional">CLUSTER (optional)</h3>
<p>A Cluster is a branch-like sub-structure of an ENTRY which allow ELEMENTS to be conveniently grouped and possibly repeated e.g in a Lab Test archetype, data related to a single lab analyte result is grouped within a Cluster to allow the whole pattern to be repeated
 Lab Test
  Lab Result (Cluster)
    Result
    Comment
    Datetime reported
    Status</p>

<p>In the construct above the cluster allows multiple Lab results to be captured within a single Lab Test.</p>

<h3 id="element">ELEMENT</h3>
<p>An Element is the leaf-node construct which is basically a name/value pair with a defined datatype. The nature of the datatype determines the exact structure of the Element.</p>

<h2 id="operon-ehrscape-domains-and-ehrexplorer">Operon Ehrscape domains and EhrExplorer</h2>

<p>The <a href="https://test.operon.systems">Operon Ehrscape</a> openEHR service provided by <a href="http:/marand.si">Marand</a> is configured to allow app developers to setup and work their own individual ‘domain’, populated with its own dummy patient data and openEHR content models and allows both read and write access to the data and for the upload of new openEHR content models.</p>

<p>Each Ehrscape domain has its own login and password and in the near future may also be accessed via an Ouath2 session from  trusted provider.</p>

<p>There are 2 methods of accessing the ehrscape API:</p>

<ol>
  <li>
    <p>Set up a sessionID variable via the GET /session call. This returns a token that can be supplied in the headers of any subsequent API calls. This is the preferred option since it avoids having to log in to  Ehrscape for every separate API call.</p>
  </li>
  <li>
    <p>Create a Basic Authentication string and pass this to each API call. This is simpler to work with, particularly where it is not easy to maintain a session variable e.g. in an API testing tool like Postman but incurs an overhead of having to resolve the username and password for each call.</p>
  </li>
</ol>

<h3 id="requesting-an-ehrscape-domain">Requesting an Ehrscape domain</h3>

<p>You can request an Ehrscape Domain via the Operon website. You will need to be a registered Operon user and access to your Ehrscape domain will require your Operon login and password. You will also need to provide a simple, unique ‘domain name’ such as ‘freshehr’ or ‘cerner’. This will be used to create a unique internal server name such as ‘ehrscape.operon.ehrscape’ used internally by Ehrscape.
   an example of an ehrscape Domain that is being used for C4H Training might be</p>

<div class="highlighter-rouge"><pre class="highlight"><code>   login: operon_training
   password: 223ergt$
   domain_name: ehrscape.c4h.training
</code></pre>
</div>

<p><strong>baseURL</strong></p>

<p>The baseURL for all Operon Ehrscape API calls is (https://test.operon.systems/rest/v1).</p>

<h3 id="domain-provisioning">Domain provisioning</h3>

<p>When your domain is setup you will be provided with the following</p>

<ol>
  <li>Access to a personal domain on Operon Ehrscape with login, password and domain name.</li>
  <li>Access to the Ehrscape EhrExplorer tool.</li>
  <li>Acess to the Ehrscape ApiExlorer tool.</li>
  <li>The domain will be populated with
    <ul>
      <li>Several dummy patents</li>
      <li>openEHR content models and dummy data for</li>
      <li>Nursing Vital signs encounter.</li>
    </ul>
  </li>
</ol>

<h3 id="ehrexplorer">EhrExplorer</h3>

<p>The Marand EhrExplorer tool can be used to create openEHR queries and to visualise the openEHR content models being used by your domain
1. Browse to <a href="https://test.operon.systems/explorer/">EHRExplorer</a>
2. Enter the name and password for your C4H Ehrscape domain as above
3. Leave the domain field as <code class="highlighter-rouge">'ehrscape</code>`</p>

<p><img src="\images/ehr_explorer.png" alt="EHR Explorer" />
In the navigation bar on the left you can double-click on the <code class="highlighter-rouge">Vital signs encounter</code> template, which will open the template in the bottom-right panel. Right-click on nodes for further details of the constraints applied.</p>

<p>e.g. If you navigate to <strong>’$$$’</strong> and right-click you can examine the internal <em>‘atcode’</em> constraints allowed for this element.</p>

<h3 id="ehrscape-api-browser">Ehrscape API browser</h3>

<p>The Operon Ehrscape API Browser can be used to
1. Browse to <a href="https://test.operon.systems/api-explorer.html">EHRScape API Explorer</a>
2. Press the <img src="\images/tool_button.png" alt="Tool button" /> tool setting button and set userName to <code class="highlighter-rouge">c4h_train</code> and password to <code class="highlighter-rouge">c4h_train99</code>
3. Any test calls in the API browser will now work against the Operon Training domain.</p>

<h3 id="using-postman-to-test-api-calls">Using Postman to test API calls</h3>

<p>The <a href="http://getpostman.com">Postman add-on</a> is vey useful for testing API calls outside of an application context.
<a href="/technical/postman">Postman collection and environment files</a> are available for the C4H. The collection file contains all of the relevant Ehrscape API calls and a Postman Environment file matching your domain details will be created and which you may import.</p>


    <div class="tags">
        
    </div>

    

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2017 Operon Limited. All rights reserved. <br />
 Site last generated: Jan 6, 2017 <br />
<p><img src="images/company_logo.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>

</body>

</html>